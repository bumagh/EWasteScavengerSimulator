{"version":3,"sources":["file:///D:/2work/2GameDev/EWasteScavengerSimulatorCocos2d/assets/Game/scripts-001/ChallengeUI.ts"],"names":["_decorator","Component","Node","Vec3","Input","ccclass","property","ChallengeUI","home","_rot","start","init","roleClkArea","on","EventType","TOUCH_MOVE","_rotateRole","set","role","eulerAngles","show","node","active","emit","hide","event","y","getDeltaX"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAkBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;;;;;;;;;OAElD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;6BAGjBO,W,WADZF,OAAO,CAAC,aAAD,C,UAGHC,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACJ,IAAD,C,2BALb,MACaK,WADb,SACiCN,SADjC,CAC2C;AAAA;AAAA;AAAA,eAChCO,IADgC,GACjB,IADiB;;AAAA;;AAAA;;AAAA,eAO/BC,IAP+B,GAOxB,IAAIN,IAAJ,EAPwB;AAAA;;AASvCO,QAAAA,KAAK,GAAI,CACL;AACH;;AAEDC,QAAAA,IAAI,CAACH,IAAD,EAAe;AACf,eAAKA,IAAL,GAAYA,IAAZ;AACA,eAAKI,WAAL,CAAiBC,EAAjB,CAAoBT,KAAK,CAACU,SAAN,CAAgBC,UAApC,EAAgD,KAAKC,WAArD,EAAkE,IAAlE;;AACA,eAAKP,IAAL,CAAUQ,GAAV,CAAc,KAAKC,IAAL,CAAUC,WAAxB;AACH;;AAEDC,QAAAA,IAAI,GAAG;AACH,eAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,eAAKD,IAAL,CAAUE,IAAV,CAAe,SAAf;AACH;;AAEDC,QAAAA,IAAI,GAAG;AACH,eAAKH,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA,eAAKD,IAAL,CAAUE,IAAV,CAAe,UAAf;AACH;;AAEDP,QAAAA,WAAW,CAACS,KAAD,EAAmB;AAC1B,gBAAMC,CAAC,GAAGD,KAAK,CAACE,SAAN,EAAV;;AACA,cAAGD,CAAC,GAAG,CAAP,EAAS;AACL,iBAAKjB,IAAL,CAAUiB,CAAV,IAAe,CAAf;AACH,WAFD,MAEO,IAAIA,CAAC,GAAG,CAAR,EAAU;AACb,iBAAKjB,IAAL,CAAUiB,CAAV,IAAe,CAAf;AACH;;AAED,eAAKR,IAAL,CAAUC,WAAV,GAAwB,KAAKV,IAA7B;;AACA,eAAKA,IAAL,CAAUQ,GAAV,CAAc,KAAKC,IAAL,CAAUC,WAAxB;AACH;;AAvCsC,O;;;;;iBAGnB,I;;;;;;;iBAEP,I","sourcesContent":["import { _decorator, Component, Node, EventTouch, Vec3, Input } from \"cc\";\nimport { HomeUI } from \"./HomeUI\";\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"ChallengeUI\")\nexport class ChallengeUI extends Component {\n    public home: HomeUI = null!;\n    @property(Node)\n    roleClkArea: Node = null!;\n    @property(Node)\n    role: Node = null!;\n\n    private _rot = new Vec3();\n\n    start () {\n        // Your initialization goes here.\n    }\n\n    init(home: HomeUI) {\n        this.home = home;\n        this.roleClkArea.on(Input.EventType.TOUCH_MOVE, this._rotateRole, this);\n        this._rot.set(this.role.eulerAngles);\n    }\n\n    show() {\n        this.node.active = true;\n        this.node.emit('fade-in');\n    }\n\n    hide() {\n        this.node.active = false;\n        this.node.emit('fade-out');\n    }\n\n    _rotateRole(event: EventTouch){\n        const y = event.getDeltaX();\n        if(y > 0){\n            this._rot.y += 5;\n        } else if (y < 0){\n            this._rot.y -= 5;\n        }\n\n        this.role.eulerAngles = this._rot;\n        this._rot.set(this.role.eulerAngles);\n    }\n}\n"]}