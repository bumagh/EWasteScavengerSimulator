{"version":3,"sources":["file:///D:/2work/2GameDev/EWasteScavengerSimulatorCocos2d/assets/Game/scripts-001/test-list/ListItem.ts"],"names":["_decorator","Button","Component","director","Label","BackButton","sceneArray","ccclass","property","ListItem","index","_name","label","button","onload","start","node","getSiblingIndex","getComponentInChildren","getComponent","updateItem","loadScene","saveOffset","saveIndex","interactable","refreshButton","idx","name","string"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,K,OAAAA,K;;AACzCC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;0BAGjBS,Q,WADZF,OAAO,CAAC,UAAD,C,gBAAR,MACaE,QADb,SAC8BP,SAD9B,CACwC;AAAA;AAAA;AAAA,eAE7BQ,KAF6B,GAErB,CAAC,CAFoB;AAAA,eAG7BC,KAH6B,GAGrB,EAHqB;AAAA,eAI7BC,KAJ6B,GAId,IAJc;AAAA,eAK7BC,MAL6B,GAKZ,IALY;AAAA;;AAO7BC,QAAAA,MAAM,GAAI,CAEhB;;AAEMC,QAAAA,KAAK,GAAI;AACZ;AACA,eAAKL,KAAL,GAAa,KAAKM,IAAL,CAAUC,eAAV,EAAb;AACA,eAAKN,KAAL,GAAa,EAAb;;AACA,cAAI,KAAKK,IAAT,EAAc;AACV,iBAAKJ,KAAL,GAAa,KAAKI,IAAL,CAAUE,sBAAV,CAAiCd,KAAjC,CAAb;AACA,iBAAKS,MAAL,GAAc,KAAKG,IAAL,CAAUG,YAAV,CAAuBlB,MAAvB,CAAd;AACH;;AACD,eAAKmB,UAAL,CAAgB,KAAKV,KAArB,EAA4B;AAAA;AAAA,wCAAW,KAAKA,KAAhB,CAA5B;AACH;;AAEMW,QAAAA,SAAS,GAAI;AAChB;AAAA;AAAA,wCAAWC,UAAX;AACA;AAAA;AAAA,wCAAWC,SAAX,CAAqB,KAAKb,KAA1B;AACA,eAAKG,MAAL,CAAYW,YAAZ,GAA2B,KAA3B;AACArB,UAAAA,QAAQ,CAACkB,SAAT,CAAmB,KAAKV,KAAxB,EAA+B;AAAA;AAAA,wCAAWc,aAA1C;AACH;;AAEML,QAAAA,UAAU,CAAEM,GAAF,EAAeC,IAAf,EAA6B;AAC1C,eAAKjB,KAAL,GAAagB,GAAb;AACA,eAAKf,KAAL,GAAagB,IAAb;AACA,eAAKf,KAAL,CAAWgB,MAAX,GAAoBD,IAApB;AACH;;AAjCmC,O","sourcesContent":["import { _decorator, Button, Component, director, Label, Node } from 'cc';\nimport { BackButton } from './BackButton';\nimport { sceneArray } from './SceneList';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ListItem')\nexport class ListItem extends Component {\n\n    public index = -1;\n    public _name = '';\n    public label: Label = null!;\n    public button: Button = null!;\n\n    public onload () {\n\n    }\n\n    public start () {\n        // Your initialization goes here.\n        this.index = this.node.getSiblingIndex();\n        this._name = '';\n        if (this.node){\n            this.label = this.node.getComponentInChildren(Label)!;\n            this.button = this.node.getComponent(Button)!;\n        }\n        this.updateItem(this.index, sceneArray[this.index]);\n    }\n\n    public loadScene () {\n        BackButton.saveOffset();\n        BackButton.saveIndex(this.index);\n        this.button.interactable = false;\n        director.loadScene(this._name, BackButton.refreshButton);\n    }\n\n    public updateItem (idx: number, name: string) {\n        this.index = idx;\n        this._name = name;\n        this.label.string = name;\n    }\n}\n"]}