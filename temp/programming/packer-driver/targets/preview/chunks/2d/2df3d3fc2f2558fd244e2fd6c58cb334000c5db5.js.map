{"version":3,"sources":["file:///D:/2work/2GameDev/EWasteScavengerSimulatorCocos2d/assets/Game/scripts-001/tabs/TabCtrl.ts"],"names":["_decorator","Component","Sprite","Node","Animation","v3","ccclass","property","TabCtrl","sidebar","init","tabInfo","idx","icon","spriteFrame","iconSF","node","on","onPressed","bind","arrow","scale","tabPressed","turnBig","anim","play","turnSmall"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,S,OAAAA,S;AAA4BC,MAAAA,E,OAAAA,E;;;;;;;;;OAEpE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;yBASjBQ,O,WAGRD,QAAQ,CAACL,MAAD,C,UAERK,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACH,SAAD,C,EARZE,O,qBAAD,MACaE,OADb,SAC6BP,SAD7B,CACuC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAU5BQ,OAV4B,GAUE,IAVF;AAAA;;AAYnC;AACAC,QAAAA,IAAI,CAACC,OAAD,EAAwB;AAAE;AAC1B,eAAKF,OAAL,GAAeE,OAAO,CAACF,OAAvB;AACA,eAAKG,GAAL,GAAWD,OAAO,CAACC,GAAnB;;AACA,cAAI,KAAKC,IAAL,IAAa,IAAjB,EAAuB;AACnB,iBAAKA,IAAL,CAAUC,WAAV,GAAwBH,OAAO,CAACI,MAAhC;AACH;;AACD,eAAKC,IAAL,CAAUC,EAAV,CAAa,YAAb,EAA2B,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAA3B,EAAsD,KAAKH,IAA3D;;AACA,cAAI,KAAKI,KAAT,EAAgB;AACZ,iBAAKA,KAAL,CAAWC,KAAX,GAAmBhB,EAAE,CAAC,CAAD,EAAI,CAAJ,CAArB;AACH;AACJ;;AAEDa,QAAAA,SAAS,GAAG;AAAA;;AACR,gCAAKT,OAAL,2BAAca,UAAd,CAAyB,KAAKV,GAA9B;AACH;;AAEDW,QAAAA,OAAO,GAAG;AAAA;;AACN,6BAAKC,IAAL,wBAAWC,IAAX,CAAgB,cAAhB;AACH;;AAEDC,QAAAA,SAAS,GAAG;AAAA;;AACR,8BAAKF,IAAL,yBAAWC,IAAX,CAAgB,gBAAhB;AACH;;AAnCkC,O,sEAClClB,Q;;;;;iBACY,C;;;;;;;iBAEgB,I;;;;;;;iBAED,I;;;;;;;iBAEI,I","sourcesContent":["import { _decorator, Component, Sprite, Node, Animation, SpriteFrame, v2, v3 } from \"cc\";\nimport { MenuSidebar } from \"./MenuSidebar\";\nconst { ccclass, property } = _decorator;\n\nexport interface ITabCtrlInfo {\n    sidebar: MenuSidebar;\n    idx: number;\n    iconSF: SpriteFrame;\n}\n\n@ccclass\nexport class TabCtrl extends Component {\n    @property\n    public idx = 0;\n    @property(Sprite)\n    public icon: Sprite | null = null;\n    @property(Node)\n    public arrow: Node | null = null;\n    @property(Animation)\n    public anim: Animation | null = null;\n\n    public sidebar: MenuSidebar | null = null;\n\n    // use this for initialization\n    init(tabInfo: ITabCtrlInfo) { // sidebar, idx, iconSF\n        this.sidebar = tabInfo.sidebar;\n        this.idx = tabInfo.idx;\n        if (this.icon != null) {\n            this.icon.spriteFrame = tabInfo.iconSF;\n        }\n        this.node.on('touchstart', this.onPressed.bind(this), this.node);\n        if (this.arrow) {\n            this.arrow.scale = v3(0, 0);\n        }\n    }\n\n    onPressed() {\n        this.sidebar?.tabPressed(this.idx);\n    }\n\n    turnBig() {\n        this.anim?.play('tab_turn_big');\n    }\n\n    turnSmall() {\n        this.anim?.play('tab_turn_small');\n    }\n}\n"]}